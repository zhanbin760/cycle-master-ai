import streamlit as st
from utils.llm_engine import render_api_key_input

# å…¨å±€é¡µé¢é…ç½®
st.set_page_config(
    page_title="Cycle-Master AI å‘¨æœŸå…±æŒ¯å¯¼èˆªç³»ç»Ÿ",
    page_icon="ğŸ§¬",
    layout="wide"
)

# æ¸²æŸ“ API Key è¾“å…¥ï¼ˆä¾§è¾¹æ ï¼‰
render_api_key_input()

st.title("ğŸ§¬ Cycle-Master AIï¼šæ”¿ç­–ä¸äº§ä¸šå‘¨æœŸå…±æŒ¯å¯¼èˆªç³»ç»Ÿ")
st.markdown("---")

st.markdown("""
### æ¬¢è¿è¿›å…¥ç³»ç»Ÿ
æœ¬ç³»ç»Ÿè‡´åŠ›äºå°†**"æ”¿ç­–å‘¨æœŸä¸äº§ä¸šå‘¨æœŸ"**çš„äºŒå…ƒåˆ†ææ¡†æ¶è½¬åŒ–ä¸ºå¯æ“ä½œçš„èŒä¸šè§„åˆ’ä¸æŠ•èµ„å·¥å…·ã€‚å†å²åå¤è¯æ˜ï¼Œä¼ä¸šå’Œä¸ªäººçš„è´¢å¯Œç§¯ç´¯ï¼Œä»æ¥ä¸æ˜¯å•çº¯åŠªåŠ›çš„ç»“æœï¼Œè€Œé¦–å…ˆæ˜¯æ—¶ä»£æµªæ½®çš„é¦ˆèµ ï¼Œè¿™èƒŒåæœ‰ä¸¤å¤§æ ¸å¿ƒé©±åŠ¨åŠ›ï¼šäº§ä¸šè‡ªèº«çš„å‘¨æœŸä¸å›½å®¶æ”¿ç­–çš„å‘¨æœŸã€‚

#### ç³»ç»Ÿå››å¤§æ¨¡å—ï¼š
1. **ğŸ“Š å‘¨æœŸå®éªŒå®¤**ï¼šå¯è§†åŒ–å‘ˆç°è¿‘300ä¸ªç»†åˆ†é¢†åŸŸçš„å‘¨æœŸé˜¶æ®µï¼ˆåˆåˆ›æœŸã€æˆé•¿æœŸã€æˆç†ŸæœŸã€è°ƒæ•´è¡°é€€æœŸï¼‰ã€‚
2. **ğŸ¤– AIååŒè§„åˆ’å®˜**ï¼šåŸºäºäººæœºååŒå·¥ä½œæµï¼Œé’ˆå¯¹ä¸‰å¤§æ ¸å¿ƒé¢†åŸŸï¼ˆæŠ€æœ¯çªç ´å‹ã€å›½å®¶å®‰å…¨å‹ã€æ¶ˆè´¹å‡çº§å‹ï¼‰ç”Ÿæˆæ·±åº¦ç ”æŠ¥ã€‚
3. **ğŸ“¡ æ•°æ®å“¨å…µæœåŠ¡**ï¼šè‡ªåŠ¨åŒ–è¿½è¸ª"æ–°äº§ä¸šè¿›å…¥æˆé•¿æœŸæ‹ç‚¹åˆ¤æ–­æ¸…å•"çš„å…³é”®æŒ‡æ ‡ã€‚
4. **ğŸ“ˆ å›æµ‹ä¸éªŒè¯**ï¼šé€šè¿‡å†å²æ•°æ®å›æµ‹éªŒè¯å‘¨æœŸåˆ¤æ–­çš„æœ‰æ•ˆæ€§ã€‚

ğŸ‘ˆ **è¯·ä»å·¦ä¾§è¾¹æ é€‰æ‹©ç›®æ ‡æ¨¡å—å¼€å§‹æ¢ç´¢ã€‚**
""")

# åˆå§‹åŒ–å…¨å±€ä¼šè¯çŠ¶æ€ï¼Œç”¨äºè·¨é¡µé¢æ•°æ®ä¼ é€’
if 'target_industry' not in st.session_state:
    st.session_state['target_industry'] = ""

# å¿«é€Ÿå¼€å§‹åŒºåŸŸ
st.divider()
st.subheader("ğŸš€ å¿«é€Ÿå¼€å§‹")

col1, col2, col3 = st.columns(3)

with col1:
    st.info("**ç¬¬ä¸€æ­¥**\n\nåœ¨å·¦ä¾§è¾¹æ è¾“å…¥æ‚¨çš„ DeepSeek API Key")
    
with col2:
    st.info("**ç¬¬äºŒæ­¥**\n\né€‰æ‹©ä¸€ä¸ªè¡Œä¸šè¿›è¡Œåˆ†æ")
    
with col3:
    st.info("**ç¬¬ä¸‰æ­¥**\n\nè·å– AI ç”Ÿæˆçš„å‘¨æœŸåˆ†ææŠ¥å‘Š")

# çƒ­é—¨è¡Œä¸šå¿«æ·é€‰æ‹©
st.divider()
st.subheader("ğŸ”¥ çƒ­é—¨è¡Œä¸šå¿«é€Ÿåˆ†æ")

hot_industries = [
    "äººå·¥æ™ºèƒ½", "æ–°èƒ½æºæ±½è½¦", "åŠå¯¼ä½“", "é“¶å‘ç»æµ", 
    "ç”Ÿç‰©åŒ»è¯", "ä½ç©ºç»æµ", "å‚¨èƒ½", "å…‰ä¼"
]

cols = st.columns(4)
for i, industry in enumerate(hot_industries):
    with cols[i % 4]:
        if st.button(f"ğŸ“Š {industry}", key=f"hot_{industry}"):
            st.session_state['target_industry'] = industry
            st.switch_page("pages/02_ğŸ¤–_AIååŒè§„åˆ’å®˜.py")

# é¡µè„š
st.divider()
st.caption("ğŸ“š æœ¬ç³»ç»ŸåŸºäºé©¬æ±Ÿåšå‘¨æœŸå…±æŒ¯ç†è®ºæ„å»º | ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨")
